 
2.4 Codice numerico  18 
 
2.4 Codice numerico  
 
Si implementa un codice in ambiente Matlab per la valutazione del numero di Nusselt. Si 
vuole ottenere il valore del numero di Nusselt sul contorno superiore del canale poroso e 
lo si vuole graficare in funzione di ğ‘§Ìƒ (ovvero del tempo). Il numero di Nusse lt a distanza 
sufficientemente elevata dallâ€™ingresso termico raggiunge un valore stabile.  
Il problema definito dallâ€™ Eq. (2.1 8) Ã¨ un problema 3D nello spazio. In particolare, il 
problema Ã¨ parabolico nella direzione z (non nel tempo). Per risolvere questo tipo di 
problemi, si puÃ² selezionare il modello â€˜transientâ€™ (ovvero si risolve un problema non 
stazionario), disegnando un dominio circolare nel piano (x, y) (che descrive la sezione 
del canale) e usando il tempo (la direzione di evoluzione) al posto della  coordinata z.  
 
Nella prima riga di codice si definisce la tipologia di modello che descriva il problema 
da risolvere:  
 
forchh_model  = createpde( 'thermal' ,'transient' ); 
 
Mediante questa linea di codice si definisce il modello: la tipologia di problema che si 
vuole risolvere (problema di scambio termico) e la dipendenza dal tempo (problema non 
stazionario).  
 
Di seguito si procede nel definire la geometria circolare del can ale poroso:  
 
C1=[1,0,0,1];  
ns=char('Cerchio' ); 
g=decsg(C1', 'Cerchio' ,ns'); 
geometryFromEdges(forchh_model,g);  
 
 
Si Ã¨ definita la geometria con il comando decsg . Per funzionare  questo comando,  si 
devono associare una serie di informazioni. La prima Ã¨ la gd (Geometry description 
matrix) , presente nella prima riga . Il primo elemento contiene il numero 1 e identifica il  
 
 
 
 
2.4 Codice numerico  19 
 
 
cerchio come geometria. I due numeri successivi contengono le coordinate orizzontali e 
verticali, x e y del centro del cerchio. Lâ€™ultimo elemento Ã¨ il raggio del cerchio. Con la 
seconda riga viene definita la ns, opzione necessaria per dare un nome agli el ementi 
geometrici che definiscono il dominio.  
La matrice gd deve essere una matrice n x 1 (a colonna singola) mentre C1 Ã¨ una matrice 
1 x n quindi essa va trasposta. La trasposta della matrice viene effettuata con lâ€™apice alla 
matrice finale che definisce il dominio. Il comando geometryFromEdges  permette di 
includere la geometria definita dal comando decsg  allâ€™interno del modello.  
In figura  2.4 Ã¨ possibile osservare la geometria descritta. Si tenga presente che in questa 
spiegazione dello script non vengono menzionate le righe per ottenere le figure, escluso 
il grafico del numero di Nusselt.  
 
 
 
  
 
 
 
Figura 2.4: Geometria circolare nel piano (x,y)  
 
 
 
 
Il passo seguente Ã¨ la definizione delle condizioni al contorno termiche di Dirichlet:  
 
 
thermalBC(forchh_model, 'Edge',1,'Temperature' ,1); 
thermalBC(forchh_model, 'Edge',2,'Temperature' ,1); 
thermalBC(forchh_model, 'Edge',3,'Temperature' ,1); 
thermalBC(forchh_model, 'Edge',4,'Temperature' ,1); 
 
 
Le condizioni al contorno vengono inserite nel modello mediante il comando thermalBC . 
Il comando ha come primo elemento, fra parentesi tonde, il modello stesso. Il secondo 
elemento rappresenta in quale modo si vogliono distinguere i contorni. Si Ã¨ utilizzata 
lâ€™opzione Edge  che richiede, come terzo elemento, il numero identificativo del co ntorno 
su cui Ã¨ imposta la condizione. Dalla figura 2.4 Ã¨ possibile osservare come il software di 
calcolo identifica i contorni. Con lâ€™opzione â€œTemperatureâ€ si impone la condizione di 
Dirichlet e si inserisce il valore della temperatura costante in tutto i l contorno.  
 
 
Con le righe seguenti si inserisce allâ€™interno del codice lâ€™equazione della velocitÃ  
adimensionale Eq. (2. 9) e si definisce lâ€™equazione di bilancio Eq. (2.1 8):   
 
vel=@(region,state)(1+region.y -region.y);  
thermalProperties(forchh_model, 'ThermalConductivity' ,1,'MassDensity' ,1
,'SpecificHeat' ,vel); 
 
Dove region e state  indica no che la funzione Ã¨ definita nello spazio e nel tempo.  Bisogna 
sempre dare  una dipendenza spaziale alla funzione per questo si Ã¨ sommata e sottratta la 
coordinata y nella definizione dellâ€™equazione della velocitÃ . Il comando 
â€œthemalPropertiesâ€ permette di assegnare le proprietÃ  del materiale come conduttivitÃ  
termica, densitÃ  di  massa e calore specifico. Per inserire in modo corretto le equazioni nel 
codice, Ã¨ necessario definire in modo opportuno il coefficiente che moltiplica il termine 
non stazionario inserendovi la definizione di ğ‘¢Ì…ğ‘§. Si sarebbe potuto anche non scrivere 
lâ€™equazione della velocitÃ  , assegnare il valore uno al calore specifico essendo piatto il 
profilo di velocitÃ  e quindi unitaria la velocitÃ  adimensionale.  
 2.4 Codice numerico  20 
 
 
 
 
Ora si definisce la mesh, definire una mesh consiste nel discretizzare il dominio in tanti 
piccoli sottodomini su cui si vuole risolvere il problema. Impostare una mesh piÃ¹ fitta 
permette di avere una soluzione piÃ¹ precisa ma ciÃ² lo si paga con un costo computazionale 
maggiore.  
 
generateMesh(forchh_model, 'Hmin',0.001,'Hmax',0.03); 
 
 
Il comando â€œgenerateMesh â€ permette di disegnare una mesh triangolare non strutturata 
sul modello . Ãˆ possibile controllare la dimensione minima e massima del lato degli 
elementi triangolari che  costituiscono la mesh. Con lâ€™opzione "Hminâ€ si limita il valore 
minimo mentre con lâ€™opzione â€œHmaxâ€ si limita il valore massimo.  
 
 
 
 2.4 Codice numerico  21 
Figura 2.5: Mesh triangolare non strutturata  
 
 
 
Essendo il problema parabolico  Ã¨ necessario definire una condizione iniziale Eq. (2. 20). 
Con le righe seguenti alla condizione iniziale si va a risolvere il campo di temperatura 
utile a determinare il numero di Nusselt.  
 
thermalIC(forchh_model,0);   
  
risultati=solve(forchh_model,tlist);  
solT=risultati.Temperature;  
Per impostare la condizione iniziale Ã¨ stato utilizzato il comando thermalIC . Il comando 
richiede come primo elemento il modello che si sta descrivendo e successivamente la 
condizione iniziale stessa . Si Ã¨ assunto che la temperatura del fluido che entra ne l canale 
fosse uniforme e costante, quindi la condizione iniziale in questo caso Ã¨ una costante. Ma 
la condizione puÃ² essere anche posta come una distribuzione di temperatura. Per risolvere 
il pro blema si Ã¨ utilizzato il comando solve  che richiede, come secondo elemento dato 
che il primo Ã¨ il modello in cui Ã¨ descritto il problema, un vettore con tutti gli istanti di 
tempo su cui risolvere il problema. Si Ã¨ s celto come istante iniziale ğ‘¡0 =0 , un passo tra 
due ista nti successivi di âˆ†ğ‘¡=0.01 e come istante finale ğ‘¡ğ‘“ = 1.5. CosÃ¬ si ottiene  la 
soluzione del campo di temperatura che Ã¨ possibile associarla ad una variabile il cui  nome 
Ã¨ risultati . Lâ€™ultima linea di questo tratto di codice serve ad ottenere il campo risolto sui 
nodi della me sh. 
 
Scritte le righe per descrivere il problema e determina re il campo di temperatura si passa 
alla parte di codice che permette di determinare il numero di Nusselt . 
yn=0:0.01:1;  
xn=zeros(1,length(yn));  
xnmax=0;  
ynmax=1;  
[gradTx,gradTy]=evaluateTemperatureGradient(risultati,xnmax,ynmax,1:le
ngth(tlist));  
T1=interpolateTemperature(risultati,xnmax,ynmax,1:length(tlist));  
Tn=interpolateTemperature(risultati,xn,yn,1:length(tlist));  
 
for i=1:1:length(tlist)  
     Tb(i)=2*trapz(yn ,(yn'.*Tn(:,i)));  
end 
  
Nu=2*gradTy./(T1 -Tb); 
 2.4 Codice numerico  22 
 
 
 
 
Osservando lâ€™equazione del numero di Nus selt Eq. (2. 24) si nota come  sia necessario  
inserire allâ€™interno del codice la definizione della temperatura  di bulk  oltre che valutare  
il campo di temperatura e il gradiente di temperatura sul contorno . Per valutare il 
gradiente di temperatura si Ã¨ utilizzato il comando evaluateTemperatureGradient  i cui 
elementi  sono il campo di temperatura , le coordinate  che definiscono  la linea  (0,1,z)  su 
cui si vuole valutare il gradiente e gli istanti di tempo da considerare dato che i risultati 
dipendono dal tempo. Mediante il comando interpolateTemperature  si interpola il campo  
di temperatura su  una linea a piacere, gli elementi che richiede sono gli stessi  della 
valutazione del gradiente.   
Vengono richieste due interpolazioni della temperatura . La prima , ğ‘‡1 in un punto preciso  
del dominio bidimensionale  definito dalle coordinate (ğ‘¥ğ‘šğ‘ğ‘¥,ğ‘¦ğ‘šğ‘ğ‘¥). Ques to vettore viene 
inserito al denominatore della definizione del numero di Nusselt.  La seconda ğ‘‡ğ‘› da 
inserire nella definizione della temperatura di bulk. Le coordinate in cui si interpola  il 
campo di temperatura  per il vettore  ğ‘‡ğ‘› sono definite dai vettori yn e xn.  Questi due vettori 
definiscono la linea  nello spazio bidimensionale ( x,y) allâ€™ascissa  zero e all â€™ordinata 
variabile da zero a uno. CiÃ² Ã¨ stato fatto per effettuare lâ€™integrale definito presente nella 
definizione della temperatura di bulk Eq. (2. 25). 
Ogni i-esimo punto del dominio , per il compilatore, Ã¨ definito da una coppia di valori 
(ğ‘¥ğ‘–,ğ‘¦ğ‘–) che sono le coordinate cartesiane . Si sono definiti quindi due vettori: uno per la 
coordin ata orizzontale e uno per quella verticale.  Con la prima riga si Ã¨ definito il vettore 
che contiene i valori della coordinata y  nella forma (elemento iniziale: passo: elemento 
finale) . Mentre  il vettore della coordinata x Ã¨ stato scritto come un vettore di zeri  dove il 
numero elementi Ã¨ definito  dal numero  di valori presenti  nel vettore yn  (lenght (yn))  dato 
che i  due vettori devono avere lo stesso numero di elementi . 
 
I valori della  temperatur a di bulk vengono ricavati  mediante un  ciclo for dat a lâ€™evoluzione 
nel tempo del campo di temperatura . Inoltre,  si Ã¨ utilizzato il comando trapz  per valutare 
lâ€™inte grale  del campo  di temperatura  sulla linea . Il primo termine dentro parentesi tonda  
Ã¨ il percorso su cui si integra mentre il secondo elemento e il campo da integrare.   
  23 2.4 Codice numerico  
 
 
 
Il campo di temperatura Ã¨ una matrice di elementi allora si sono usati i â€œ:â€ per indicare 
quale fra righe e colonne dovrÃ  essere la direzione su cui trapz deve operare . 
 
Infine , si sono scritte le linee di codice utili ad ottenere lâ€™output dello script ovvero il 
grafico del  numero di Nu sselt in funzione di ğ‘§Ìƒ (ovvero del tempo).  
 
figure('Name','Numero di Nusselt' ) 
plot(tlist,Nu)  
xlabel('z') 
ylabel('Nu') 
 
Il comando figure  permette di aprire una finestra  in cui collocare il  grafico. Con il 
comando pl ot si ottiene lâ€™andamento del numero di Nusselt al variare del tempo . Gli 
elementi del comando sono gli istanti di tempo e il valore della funzione  da graficare.  
Mediante i comandi xlabel e ylabe l si Ã¨ definito  il nome degli assi  nel grafico che viene 
ottenuto.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 2.4 Codice numerico  24 
 
Discussione dei risultati  
 
 
Il numero di Nusselt locale Ã¨ utilizzato per mostrare il flusso di calore lungo una parete 
esso fornisce unâ€™indicazione di quanto calore un fluido trasferisce ad una superficie. Nello 
sviluppo del flusso allâ€™interno dei tubi il numero di Nusselt cambia lungo la direzione 
assiale.  Infatti, da come Ã¨ possibile osservare dallâ€™Eq.(2.2 6) esso Ã¨ dipendente dalla 
derivata della temperatura nella direzione radiale alla parete del canale. Quindi  piÃ¹ il 
fluido risale lungo il tubo, piÃ¹ la derivata diminuisce e la temperatura media aumenta. 
Dopo che il flusso Ã¨ completamente sviluppato, il numero di Nusselt rimane costante 
lungo la direzione assiale.  
 
 
 
Come detto il numero di Nusselt locale Ã¨ cost ante in tutta la regione completamente 
sviluppata, tuttavia il suo valore dipende dalla struttura del flusso, dalla geometria e da lle 
condizioni  termiche della superficie.  Per flusso laminare in un tubo circolare  privo di 
matrice porosa  con temperatura alle pareti uniforme il valore del numero di Nusselt Ã¨ pari 
al valore : 
 
 ğ‘ğ‘¢=3.656 (3.1) 
 
Tale valore Ã¨ quello riportato nella letteratura scientifica ed Ã¨ possibile verificarlo dal 
Shah, Ramesh K., and A. L. London.  Laminar flow forced convection heat transfer and 
flow friction in straight and curved ducts -a summary of analytical solutions  [3]. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
3. Discussione dei risultati  26 
 
 
Eseguendo il codice  descritto nel capitolo precedente Ã¨ possibile ottenere il seguente 
grafico del numero di Nusselt in funzione della coordinata ğ‘§Ìƒ (ovvero del tempo) nel caso 
di un canale poroso a sezione circolare.  
 
 
Dunque, il valore del numero di Nusselt in un canale poroso a sezione circolare con 
temperatura alle pareti uniforme, a distanza sufficientemente elevata dallâ€™ingresso 
termico raggiunge il valore stabile:  
 
 
 ğ‘ğ‘¢=5.78 (3.2) 
 
 
Tale valore Ã¨ il dato riportato dalla letteratura scientifica, comâ€™Ã¨ possibile verificare dal 
D. A. Nield, A. Bejan â€“ Convection in Porous Media  [1].  Figure 3.1: grafico del numero di Nusselt in funzione di  ğ‘§Ìƒ (ovvero del tempo)  

 
3. Discussione dei risultati  27 
 
 
Il valore ottenuto mediante lâ€™utilizzo del codice Matlab  Ã¨ pari a 5.78 3, quindi 
considerando tre cifre significative si puÃ² ritenere tale valore coincidente con quello 
riportato della letteratura scientifica.  
Il risultato evidenzia che il valore del numero di Nusselt Ã¨ maggiore  per canali riempiti 
di materiale poroso rispetto a canali privi di matrice porosa. Si ha dunque un trasferimento 
del calore maggiore quando  si ha un materiale poroso a scapito di una pressione inferiore, 
che dipende dalla permeabilitÃ  della matrice porosa.                                             
La causa Ã¨ dovuta al profilo di velocitÃ  piÃ¹ uniforme  e al piÃ¹ alto rapporto 
superficie/volume che si ha con i mezzi porosi  che comportano  un campo di temperatura 
piÃ¹ uniforme attraverso il canale. CiÃ² comporta un minor valore della differenza di 
tempe ratura ğ‘‡ğ‘¤âˆ’ğ‘‡ğ‘ e quindi un  aumento del numero di Nusselt.   
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Conclusioni  
 
Sia il modello di Darcy che il modello di Darcy â€“ Forchheimer condividono la 
caratteristica di avere un moto a pistone. Dunque, per questi due modelli di moto si ottiene  
lo stesso numero di Nusselt. Il numero di un Nusselt in un condotto circolare contenente 
una matrice porosa risulta essere maggiore rispetto ad uno stesso condotto privo di 
matrice porosa. Quindi il coefficiente di calore convettivo Ã¨ maggiore per sistemi riempiti 
con materiale poroso a causa dellâ€™alta conducibilitÃ  termica della matrice porosa rispetto 
alla conducibilitÃ  termica del fluido. Per quanto riguarda le possibili applicazioni dei 
mezzi porosi non Ã¨ sempre necessario riempire completamente  il mezzo poroso. Un 
riempimento parziale ha il vantaggio di ridurre la caduta di pressione rispetto ad un 
sistema completamente riempito da  un mezzo poroso.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Bibliografia  
 
[1] Donald A. Nield , Adrian Bejan (2017): Convection in porous media, Fifth edition , 
Springer.  
[2] A. Bejan (2013): Convection Heat Transfer, Fourth edition, Wiley  
[3] Shah, Ramesh K., and Alexander Louis London.  Laminar flow forced convection 
heat transfer and flow friction in strai ght and curved ducts -a summary of analytical 
solutions. No. TR -75. Stanford Univ CA Dept of Mechanical Engineering, 1971. 
78-152 
[4] Dispense del corso tenuto dal Prof. Michele Celli: Laboratorio Computazionale di 
Termofluidodinamica del CdL Ingegneria Energet ica - Alma Mater Studiorum, 
UniversitÃ  di Bologna  
[5] Dispense del corso tenuto dal Prof. Antonio Barletta: Termofluidodinamica del CdL 
Ingegneria Energetica Magistrale -  Alma Mater Studiorum, UniversitÃ  di Bologna  
[6] Kambiz  Vafai , S. J. Kim (1989): Forced con vection in a channel filled with a porous 
medium: an exact solution , Journal of heat transfer  
[7] C. Beckermann, R Viskanta (1986): Forced convection boundary layer flow and heat 
transfer along a flat plate embedded in a porous medium, Journal of heat transfer  Vol. 
30, pp.1547 -1551  
 
